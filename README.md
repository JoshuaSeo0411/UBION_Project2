# [ì¤‘ì†Œí˜• ìƒì¥ ê¸°ì—… ëŒ€ìƒ ê¸°ì—… ì •ë³´ì˜ ë™íƒœì  ë¶„ì„ì„ í†µí•œ ì‹¤ì§ˆì  ë¶€ì‹¤ ê¸°ì—… ì˜ˆì¸¡] by FBI

UBION 6ê¸° Project2 ìµœìš°ìˆ˜ìƒğŸ†

![1](https://user-images.githubusercontent.com/124761683/236612569-c23585e4-316e-4ebf-a551-68f28b5fdf7c.JPG)

![2](https://user-images.githubusercontent.com/124761683/236612584-e07de9c6-3135-47a9-ab33-36511c977a97.JPG)

![3](https://user-images.githubusercontent.com/124761683/236612588-562d13ec-76f9-4701-9892-4f70ecae1a69.JPG)

![4](https://user-images.githubusercontent.com/124761683/236612593-991a1a6d-ff09-4a46-a6a3-6e5eb75560c4.JPG)


---
# **í”„ë¡œì íŠ¸ ì†Œê°œ**
 ë³¸ í”„ë¡œì íŠ¸ëŠ” ì½”ìŠ¤í”¼ì™€ ì½”ìŠ¤ë‹¥ ì¢…ëª©(ëŒ€í˜•ì£¼ ì œì™¸)ì„ ëŒ€ìƒìœ¼ë¡œ t+1ë…„ì— ì‹¤ì§ˆì  ë¶€ì‹¤ê¸°ì—…(ìƒì¥íì§€ ë˜ëŠ” ê´€ë¦¬ì¢…ëª©)ì´ ë ì§€, ì•„ë‹ˆë©´ ì •ìƒê¸°ì—…ìœ¼ë¡œ ìœ ì§€í• ì§€ë¥¼ ë¶„ë¥˜ ì˜ˆì¸¡í•˜ê³ ì í•œë‹¤. ì´ ê³¼ì •ì—ì„œ ê¸°ì¡´ ì—°êµ¬ë“¤ê³¼ì˜ ì°¨ë³„ì„ ì£¼ê¸° ìœ„í•´ ë™íƒœì  ë¶„ì„ì„ ì‹¤ì‹œí•˜ì˜€ë‹¤. ì´ë¥¼ í†µí•´ 9ê°œì˜ ìµœì  í”¼ì³ë¥¼ ì„ ì •í•˜ì˜€ê³ , ì´ 7ê°œì˜ ë¶„ë¥˜, ë”¥ëŸ¬ë‹ ì•Œê³ ë¦¬ì¦˜ì„ í™œìš©í•´ ê°€ì¥ ë›°ì–´ë‚œ ì„±ëŠ¥ì„ ë³´ì¸ XGB Classfierë¥¼ ìµœì¢… ëª¨ë¸ë¡œ ì„ ì •í•˜ì˜€ë‹¤. ìµœì¢… ëª¨ë¸ì„ í†µí•´ ë¶€ì‹¤ê¸°ì—…ì„ ë¶„ë¥˜í•  ë•Œì— ìˆì–´ ë¶€ì‹¤ê¸°ì—…ì„ ì •ìƒê¸°ì—…ìœ¼ë¡œ ë¶„ë¥˜í•˜ëŠ” 2ì¢… ì˜¤ë¥˜ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì¬í˜„ë¥ (Recall)ì— ì§‘ì¤‘í•˜ì˜€ìœ¼ë©°, ì´ë¥¼ í†µí•´ ë¶€ì‹¤ê¸°ì—… ë¶„ë¥˜ì˜ ìœ„í—˜ì„±ì„ ìµœì†Œí™” í•˜ì˜€ë‹¤. ë˜í•œ ë‹¤ë¥¸ ì—°êµ¬ì™€ ì°¨ë³„ëœ ê±°ë˜ëŸ‰ íŒŒìƒë³€ìˆ˜ë“¤ì„ í†µí•´ íˆ¬ììë“¤ì—ê²Œ ê°„ì ‘ì ì¸ ê¸°ì—¬ë¥¼ í•  ìˆ˜ ìˆìŒì„ í™•ì¸í•˜ì˜€ë‹¤.

---
# **êµ¬ì¡°**


## **0. ë°ì´í„° ìˆ˜ì§‘**
- ëŒ€ìƒ : KOSPI & KOSDAQ ìƒì¥ ê¸°ì—…
- ì œì™¸ : ê¸ˆìœµ ë° ì™¸êµ­ê³„ ê¸°ì—…, SPACì£¼, ëŒ€í˜•ì£¼(ì‹œê°€ì´ì•¡ ìƒìœ„ 100ìœ„ ë‚´ ê¸°ì—…)
- ìˆ˜ì§‘ê¸°ê°„ : 2010 ~ 2019ë…„ (ë™íƒœì  ë¶„ì„ì„ ìœ„í•œ ë³€í™”ìœ¨ ëª©ì  2010ë…„ ë¶€í„° ìˆ˜ì§‘)
- ë¶„ì„ê¸°ê°„ : 2011 ~ 2019ë…„ 
- ìµœì´ˆí”¼ì³ : ì´ 134ê°œ(ì¬ë¬´ì •ë³´ + ì‹œì¥ì •ë³´)
- ê°œìˆ˜ : 2,478ì‚¬ / 20,505ê°œ
- ì¶œì²˜ : TS2000

## **1. Preprocessing**
#### ê²°ì¸¡ì¹˜
- ì—°ê²°ì œë¬´ì¬í‘œë°ì´í„° ê²°ì¸¡ì¹˜ ë³„ë„ì œë¬´ì¬í‘œë°ì´í„°ë¡œ ëŒ€ì²´
- ë‹¤íŠ¸(DART)í™•ì¸ í›„ ì±„ìš¸ ìˆ˜ ìˆëŠ” ê°’ë“¤ ëŒ€ì²´
- ì „ì²´ ê°’ì´ ê²°ì¸¡ì¹˜ì¸ ì»¬ëŸ¼ ì œê±°
- ì´ ì™¸ì˜ ê²°ì¸¡ì§€ëŠ” ì œê±°

#### ì´ìƒì¹˜
- ê±°ë˜ì†Œì½”ë“œê°€ 2ê°œì¸ ê¸°ì—… ì¤‘ë³µ ì œê±°
- íšŒì‚¬ëª…ì´ 2ê°œì¸ ê±°ë˜ì†Œì½”ë“œ ì¤‘ë³µ í™•ì¸
- 999999 (inf, -inf) ì œê±°
- ì–‘ê·¹ë‹¨ì¹˜ 0.5%ì”© Trimming(IQR 0.5% ì´í•˜, 99.5% ì´ìƒ ê°’ë“¤ ì œê±°)

## 2. Labeling
- Label1 : ìƒì¥íì§€(ìë°œì  ìƒì¥íì§€ ì œì™¸) + ê´€ë¦¬ì¢…ëª© ì§€ì • ê¸°ì—… t-1ê¸°, t-2ê¸°
  * ìƒì¥íì§€ê°€ 4ì›” ì „ì— ì´ë£¨ì–´ì§„ ê²½ìš° t-1ê¸° ë°ì´í„°ê°€ ì—†ê¸°ì— t-2ê¸°, t-3ê¸°ì— 1ë¶€ì—¬
  * ê´€ë¦¬ì¢…ëª©ì˜ ê²½ìš° ìµœì´ˆ ì§€ì •ëœ ë…„ë„ë¥¼ tê¸°ë¡œ íŒë‹¨
- Label0 : ì •ìƒê¸°ì—…(1ì— í•´ë‹¹í•˜ì§€ ì•ŠëŠ” ê¸°ì—…)

## 3. Data split & Scaling
- Train set : 2011 ~ 2017 (7ë…„)
- Test set : 2018 ~ 2019 (2ë…„)
- Scaling : Train set, test set ê°ê° Standard scaling(Data Leakage ë°©ì§€)

## 4. Feature Selection
- Train setìœ¼ë¡œë§Œ Feature Selection
- ê²€ì •
  - ì •ê·œì„±ê²€ì •(Shapiro-Wilks, Anderson, Dist plot, qq plot)
  - ë…ë¦½ì„±ê²€ì •(Durbin-Watson)
    - ë¶„ë¥˜ ëª¨í˜•ì—ì„œëŠ” í†µê³„ê²€ì •ì´ ì¤‘ìš”í•˜ì§€ ì•Šê¸°ì— ë“±ë¶„ì‚°ì„± ê²€ì¦ ë”°ë¡œ ì§„í–‰ X
- ì•„ë˜ 3ê°œ ëª¨ë¸ ì¤‘ 3ê°œ ì´ìƒ ì¤‘ë³µ í”¼ì³ë¥¼ ìµœì¢… ì„ íƒ
  - T-test(í†µê³„ë¶„ì„)
  - Lasso(Wrapper Method)
  - Stepwise(Embbeded Method)

## 5. Modeling

[ë‹¨ì¼ë¶„ë¥˜]
- Logistic
- Decision Tree
- SVM(SVC í™œìš©)

[Ensamble]
- Random Forest
- **XGB**
- Stacking (Logistic + SVC + XGBoost)

[Deep Learning]
- TabNet

**-> ìµœì¢…ëª¨ë¸ : XGBClassifier**


## 6. Evaluation(Test set)
- ACC : 0.65
- Precision : 0.07
- **Recall : 0.92**
- F1-score : 0.13
- AUC : 0.77

[Recallì´ ìƒëŒ€ì ìœ¼ë¡œ ë†’ì€ ì„±ëŠ¥ì„ ë³´ì´ëŠ” ëª¨ë¸]
- ë¶€ì‹¤ê¸°ì—…ì„ ì •ìƒê¸°ì—…ìœ¼ë¡œ íŒë‹¨í•˜ëŠ” 2ì¢… ì˜¤ë¥˜ í•´ì†Œ
- ê¸°ì—… ë¶€ì‹¤ì„ íŒë‹¨í•˜ëŠ” ì…ì¥ì—ì„œ ìœ„í—˜ ìµœì†Œí™”

[ì •ìƒê¸°ì—…ê³¼ ë¶€ì‹¤ê¸°ì—…ì˜ ì°¨ì´ ë° ê±°ë˜ëŸ‰ í™•ì¸]

![5](https://user-images.githubusercontent.com/124761683/236614634-29462555-8d7c-40e3-89a3-4f07ed6330db.JPG)

![6](https://user-images.githubusercontent.com/124761683/236614642-3009744e-f775-4ca5-953b-2024d7bf38f5.JPG)

![7](https://user-images.githubusercontent.com/124761683/236614647-f1a0726e-d920-4df3-b0c5-34d5ce3e6484.JPG)

![8](https://user-images.githubusercontent.com/124761683/236614649-2f9b0d4d-1713-4c02-b5c8-284f1c19c8c8.JPG)


